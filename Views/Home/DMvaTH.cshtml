@model IEnumerable<mi_pham_kem.Models.SQLServer.SanPham>
@using mi_pham_kem.Models.SQLServer
@{
    ViewData["Title"] = "Thương hiệu & Danh mục";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var danhMucs = ViewBag.DanhMucs as List<DanhMucSp> ?? new List<DanhMucSp>();
    var thuongHieus = ViewBag.ThuongHieus as List<ThuongHieu> ?? new List<ThuongHieu>();
}
<head>
    <style>
        .rounded.shadow:hover {
            transform: scale(1.05);
            transition: all 0.3s ease-in-out;
        }
        hr{
            margin: 30px;
        }
        span{
            text-align: center;
        }
        .jjj{
            margin: 30px;
        }
    </style>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="~/css/TrangChuStyle.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Edu+NSW+ACT+Cursive:wght@400..700&family=Edu+VIC+WA+NT+Hand+Pre:wght@400..700&family=Pacifico&family=Quicksand:wght@300..700&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<h2 style="margin:30px">Danh mục & Thương hiệu</h2>
<hr/>
<div class="container mt-4">
    <div class="jjj" style="text-align: center">
        <span style="color: #de5f94; font-weight: bold; font-size: 40px">Các thương hiệu</span>
    </div>
    <div class="row mb-4">
        @foreach (var th in ViewBag.ThuongHieus)
        {
            <div class="col-md-3 text-center mb-3">
                <div onclick="loadByThuongHieu(@th.MaTh)" style="cursor:pointer;">
                    <img src="@th.HinhAnh" class="img-fluid rounded shadow" style="max-height: 120px; object-fit: contain;" />
                    <div class="mt-2 fw-semibold">@th.TenThuongHieu</div>
                </div>
            </div>
        }
    </div>
    <hr />

    <div class="jjj" style="text-align: center">
        <span style="color: #de5f94; font-weight: bold; font-size: 40px">Các danh mục sản phẩm</span>
    </div>
    <div class="row mb-4">
        @foreach (var dm in ViewBag.DanhMucs)
        {
            <div class="col-md-3 text-center mb-3">
                <div onclick="loadByDanhMuc(@dm.MaDm)" style="cursor:pointer;">
                    <img src="@dm.HinhAnh" class="img-fluid rounded shadow" style="max-height: 120px; object-fit: contain;" />
                    <div class="mt-2 fw-semibold">@dm.TenDanhMuc</div>
                </div>
            </div>
        }
    </div>
    <hr/>
    <div class="jjj" style="text-align: center">
        <span style="color: #de5f94; font-weight: bold; font-size: 40px">Các sản phẩm tương ứng</span>
    </div>
    <div id="danhSachSanPham" class="row mt-3"></div>
</div>

@section Scripts {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJ7Q5pbx0W9r5MqaR3E8+Gj/7P8sm3Bt5NerE="
            crossorigin="anonymous"></script>
    <script>
        function loadByThuongHieu(id) {
            $("#danhSachSanPham").load("/Home/SanPhamTheoThuongHieu/" + id);
        }

        function loadByDanhMuc(id) {
            $("#danhSachSanPham").load("/Home/SanPhamTheoDanhMuc/" + id);
        }
    </script>
}
