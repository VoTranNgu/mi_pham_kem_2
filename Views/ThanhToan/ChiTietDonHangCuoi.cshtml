@model mi_pham_kem.Models.SQLServer.DonHang
<style>

</style>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="~/css/TrangChuStyle.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Edu+NSW+ACT+Cursive:wght@400..700&family=Edu+VIC+WA+NT+Hand+Pre:wght@400..700&family=Pacifico&family=Quicksand:wght@300..700&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>

<body>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">

    <div class="container mt-5">
        <h2 style="color: #de5f94; font-size: 35px">Chi tiết đơn hàng #@Model.MaDh</h2>

        <div class="card mb-4 p-4 shadow-sm">
            <h3 style="font-size: 25px;font-weight: bold;color: #de5f94; text-align:center">
                Thông tin đơn hàng
            </h3>
            <p><strong>Ngày đặt:</strong> @Model.NgayDat.ToString("dd/MM/yyyy")</p>
            <p><strong>Trạng thái:</strong> @Model.TrangThai</p>
            <p><strong>Tổng tiền:</strong> @Model.TongTien.ToString("N0") VNĐ</p>
            @if (ViewBag.TenMaUuDai != null)
            {
                <p><strong>Mã đã áp dụng:</strong> @ViewBag.TenMaUuDai</p>
            }
            else
            {
                <p><strong>Mã đã áp dụng:</strong> Chưa áp dụng mã</p>
            }

        </div>

        <div class="card shadow-sm p-4">
            <h3 style="font-size: 25px;font-weight: bold;color: #de5f94; text-align:center">
                Sản phẩm đã đặt
            </h3>
            <table class="table table-striped mt-3">
                <thead>
                    <tr>
                        <th>Ảnh</th>
                        <th>Sản phẩm</th>
                        <th>Số lượng</th>
                        <th>Giá</th>
                        <th>Thành tiền</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.ChiTietDonHangs)
                    {
                        <tr>
                            <td>
                                <img src="@item.MaSanPhamNavigation?.HinhAnh" width="80" height="80" alt="ảnh sản phẩm" />
                            </td>
                            <td>
                                <strong>@item.MaSanPhamNavigation?.TenSanPham</strong><br />
                            </td>
                            <td>@item.SoLuong</td>
                            <td>@item.DonGia.ToString("N0") VNĐ</td>
                            <td>@($"{item.SoLuong * item.DonGia:N0} VNĐ")</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>

        <div class="mt-4" style="text-align:center">
            <a href="~/Home/Index" class="button-custom">← Quay về trang chủ</a>
        </div>
    </div>
</body>